<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="../resources/mstemp.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

             <ui:define name="sidebar-left">
                
                    <ui:include src="menuEtudiant.xhtml" />
             
            </ui:define>
<ui:define name="content">
                <h:form>
                    <div></div>
                    <p:panel id="error" rendered="#{etudiantController.sessionOuverte}">
                        Votre session a éxpirer ou vous n'avez pas activer votre compte.
                    </p:panel>

                    <p:panel id="etudiantdetail" header="Modification des Informations personelle" rendered="#{!etudiantController.sessionOuverte}">
                         <p:outputLabel value="Veuillez charger votre Photo d'identité :" />
                    <p:fileUpload mode="advanced" label="Cliquez pour Chargé votre foto d'identité" auto="true" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" fileUploadListener="#{etudiantController.handleFileUpload}" 
                                  sizeLimit="500000"  invalidSizeMessage="La taille maximale de chargement est de 5Mb" invalidFileMessage="Vous avez le droit de charger que des images aux format : JPEG, GIF ou PNG"/>
                    <p:growl id="messages" showDetail="true"/>
        
                        <p:messages for="update"/>
                        <p:panelGrid columns="3">

                        </p:panelGrid>
                        <p:panelGrid columns="3">
                            <p:outputLabel value="CNE : "/>
                            <p:outputLabel id="cne" value="#{etudiantController.current.cne}"
                                           />
                            <p:message for="cne"/>

                            <p:outputLabel value="CIN : "/>
                            <p:outputLabel id="cin" value="#{etudiantController.current.cin}" />

                            <p:message for="cin"/>



                            <p:outputLabel  value="Nom : *"/>
                            <p:inputText id="nom" value="#{etudiantController.current.nom}"
                                         required="true" requiredMessage="Veuillez saisir votre nom"/>
                            <p:message for="nom"/>
                            
                            <p:message for="nomAr"/>
                            <p:inputText id="nomAr" value="#{etudiantController.current.nomAr}"
                                         dir="rtl" style="float: right;" required="false" requiredMessage="Veuillez saisir votre nom en arabe"/>
                            <p:outputLabel  value="الاسم العائلي : *" dir="rtl" style="float: right;"/>
                            

                            <p:outputLabel value="Prénom : *"/>
                            <p:inputText id="prenom" value="#{etudiantController.current.prenom}"
                                         required="true" requiredMessage="Veuillez saisir votre prenom"/>
                            <p:message for="prenom"/>
                            
                            <p:message for="prenomAr"/>
                            <p:inputText id="prenomAr" value="#{etudiantController.current.prenomAr}"
                                         dir="rtl" style="float: right;" required="false" requiredMessage="Veuillez saisir votre nom en arabe"/>
                            <p:outputLabel  value="الاسم الشخصي : *" dir="rtl" style="float: right;"/>
                            
                            
                            <p:outputLabel value="Date de naissance : *"/>
                            <p:calendar id="dateNaissance" value="#{etudiantController.current.dateNaissance}" title="DateNaissance" 
                                        locale="fr" navigator="true" yearRange="1920:2010" pattern="dd/MM/yyyy" />
                            <p:message for="dateNaissance"/>

                            <p:outputLabel value="email : *"/>
                            <p:inputText id="email" value="#{etudiantController.current.email}"
                                         required="true" requiredMessage="Veuillez saisir une adresse email valide">
                                <f:validateRegex
                                    pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                            </p:inputText>
                            <p:message for="email"/>

                            <p:outputLabel value="Lieu de naissance :"/>
                            <p:inputText id="lieuNaissance" value="#{etudiantController.current.lieuNaissance}"
                                         />
                            <p:message for="lieuNaissance"/>
                            
                            <p:message for="lieuNaissanceAr"/>
                            <p:inputText id="lieuNaissanceAr" value="#{etudiantController.current.lieuNaissanceAr}"
                                         dir="rtl" style="float: right;"/>
                            <p:outputLabel value=" مكان الازدياد : *" dir="rtl" style="float: right;"/>
                            

                            <p:outputLabel value="Nationalité :"/>
                            <p:inputText id="nationalite" value="#{etudiantController.current.nationalite}"
                                         />
                            <p:message for="nationalite"/>

                            <p:outputLabel value="sexe :"/>
                            <p:selectOneRadio id="sexe" value="#{etudiantController.current.sexe}">
                                <f:selectItem itemLabel="Masculin" itemValue="true"/>
                                <f:selectItem itemLabel="Féminin" itemValue="false"/>
                            </p:selectOneRadio>
                            <p:message for="lieuNaissance"/>


                            <p:outputLabel value="Etat matrimonial :"/>
                            <p:selectOneRadio id="etatMatrimonial" value="#{etudiantController.current.etatMatrimonial}">
                                <f:selectItem itemLabel="Célibataire" itemValue="true"/>
                                <f:selectItem itemLabel="Marié(e)" itemValue="false"/>
                            </p:selectOneRadio>
                            <p:message for="lieuNaissance"/>

                            <p:outputLabel value="Fonctionaire :"/>
                            <p:selectOneRadio id="activite" value="#{etudiantController.current.activite}">
                                <f:selectItem itemLabel="Oui" itemValue="true"/>
                                <f:selectItem itemLabel="Non" itemValue="false"/>
                            </p:selectOneRadio>
                            <p:message for="lieuNaissance"/>

                            <p:outputLabel value="Adresse de corespondance :"/>
                            <p:inputTextarea rows="6" cols="50" id="adresse" value="#{etudiantController.current.adresse}"
                                             />
                            <p:message for="lieuNaissance"/>
                            <p:outputLabel value="Numéro de téléphonne :"/>
                            <p:inputText id="telephonne" value="#{etudiantController.current.numeroTelephonne}"
                                         />
                            <p:message for="lieuNaissance"/>
                        </p:panelGrid>
                        <p:commandButton class="btn btn-action" value="Enregistrer les Modifications" action="#{etudiantController.doEdit}"/>


                    </p:panel>

                </h:form>

           </ui:define>
</ui:composition>
